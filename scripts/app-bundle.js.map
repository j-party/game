{"version":3,"sources":["app.ts","clue.ts","database-parser.ts","randomizer.ts","clue-service.ts","clue-detail.ts","clues.ts","dashboard.ts","environment.ts","game-state.ts","input.ts","keyboard-service.ts","input-service.ts","main.ts","title-screen.ts","resources/index.ts","/home/eheikes/www/jparty/game/src/app.html","app.scss","/home/eheikes/www/jparty/game/src/clue-detail.html","clue-detail.scss","/home/eheikes/www/jparty/game/src/clues.html","clues.scss","/home/eheikes/www/jparty/game/src/dashboard.html","dashboard.scss","/home/eheikes/www/jparty/game/src/title-screen.html"],"names":[],"mappings":"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ACAH,EDCE,SAAS,EAAE,KAAM;AEDnB,EFEE,GEFG,CAAC,CFEC,EAAE,IAAK;AGFd,EHGE,AEFA,OAAO,EAAE,IFEI,EAAE,CAAE,GAClB,EEHuB;AEDxB,EFEE,KAAK,EAAE,AEFA,CAAC,EFEG;AGFb,ALKA,EAAE,AEFA,AEFA,CJIC,KEFK,EAAE,MAAO,EEFC,EAAE,kBAAmB;CEDvC,AAAc,CNMZ,AEFA,AEFA,IEFD,CJIM,AEFA,CEFC,CJIC,AEFA,EJIE,EAAE,CIJE,AEFd,AAAa,ENMG,AEFA,AIJD,CFGf;AGHD,EPOE,AEFA,AIJA,KAAK,EAAE,GNMG,CEFC,AIJC,CNMA,CAAE,AEFD,CIHd,GJGmB,GACnB;AEFD,EJIE,IIJI,CAAC,MJIM,EAAE,CAAE,GAChB;AEFD,AIJA,CAAC,CFEC,CEFC,AAAC,CAAA,CJIC,CAAC,EEFE,EAAE,AEFA,EAAE,AAAC,CAAA,MFEO,CEFA,CAAC;ANOrB,AAAI,EEFF,AEFA,AEFE,CNMD,CAAC,CAAC,CAAC,EEFE,EAAE,GAAI,IEFG,EAAE,CEFG,EAAE,CFEA,SEFW;ENOjC,AEFA,AEFA,AEFE,ONMK,AIJA,EJIE,AEFA,AEFA,CAAE,CFEA,GAAI,CIJE,ENMC,AMNC,UAAW;ENO9B,AEFA,AEFA,AEFE,KFEG,EAAE,GEFK,CFEA,CFEA,AIJE,EJIA,AEDf,CJGgB,EAAE,CEFE,GFEG,AEDvB,CIL0B,GAC1B;ENMC,UAAU,EAAE,IAAK;AEDnB,AEFA,AAAO,AEFP,ENME,AMNA,CAAC,GJIG,AEFA,CFEC,AEFA,EJIE,AIJA,CAAC,CJIC,YAAa;EACtB,AEFA,AEFA,AEFA,MFEM,EAAE,EFEE,AIJA,EJIE,AIJA,GFEI,CJIA,AEFC,EFEC,AMNC,INMI;EACvB,AEFA,AEFA,AEHqB,QFGb,EAAE,CFEC,EFEE,AEFA,AILqB,ENOnB,AMPqB,CAAE,ENOnB,AEFA,AEFA,CEFpB,ENOA;EEFC,AEFA,IAAI,EAAE,CAAE,SFEQ,EAAE,IAAK;AFGzB,AAAK,CMPL,AAAc,CJKZ,AEFA,CJIC,CAAC,CAAC,CMPJ,EJKO,AILA,EJKE,GFEG,CEFE,AILd,AAAa,CNOC,AAAC,CAAA,AMPA,EFGE,EAAE,CJIC,CAAC,EIJG;EJKvB,AEFA,AEFA,AEHA,KNOK,CIJC,CJIC,AEFA,CEFC,CFEC,GEFI,CEHA,CNOE,CMPA,ENQhB,AEHmB,EILE;EJMpB,AEFA,AEHA,OFGO,EAAE,IFEI,CILC,CJKC,AEFC,CEHA,EJKG,EILE,GACtB;ANOD,AAAK,EEFH,AEFA,CJIC,CAAC,CAAC,GEFG,EAAE,CFEC,CAAC,GIJG,EFEG,AEFD,GAAI,GACpB;CEHD,AAAe,CNOb,AEHkB,IIJnB,CNOM,CEHmB,AIJlB,CNOC,CEHmB,IAAK,AIJhC,AAAa,CAAC,CNOE,CEFhB,WIL2B,CAAC;AFI7B,AAAU,EJIR,AMPA,IFGI,CAAC,EAAE,CAAC,KAAK,AEHA,CFGC,CEHC,CNOC,AMPC,ENOC,CMNnB,MNM2B,GAC3B;AEHD,AAAM,EEDJ,IFCI,GEDG,EAAE,CFCC,CAAC,GEDI,GAChB;AJID,AAAK,AMPL,EJIE,CFGC,CAAC,CAAC,AMPA,CAAC,YJIY,EAAE,IFGI,CAAC,EEHG,GAC3B;AEDD,AAAkB,EJIhB,AMPA,IFGI,CJIC,AIJA,CEHC,CNOC,AIJA,CEHC,CAAE,GACX,ENMgB,EIJC,CJKjB,KILuB,CAAC;AFEzB,AAAM,EEDJ,IFCI,SAAS,CAAC,EEDE,EAAE,kBAAmB;AEFvC,EJIE,AEDA,KAAK,CEHC,CFGC,AEHA,KFGM,GACd,CFAiB,EAAE,IAAK;EACvB,AIJA,KJIK,AIJA,EJIE,AIJA,GAAI,CJIC,EIHb;AFGD,AAAS,EFCP,IEDI,CAAC,CFCC,CEDC,CFCC,IAAK,CEDA,CAAC,CFEf;AIJD,EFGE,KAAK,AEHA,CAAC,CFGC,OAAQ;EACf,AEHE,OAAO,EAAE,IAAK,GFGA,EAAE,IAAK;EACvB,AEHE,IFGE,EAAE,IAAK,AEHC,EAAE,CFIf,KEJsB;EACnB,KAAK,EAAE,IAAK;AFIhB,AAAO,EEHH,IFGE,CAAC,KAAK,AEHE,CFGD,CEHG,KAAM;EFIpB,AEHE,QFGM,CEHG,CFGD,CEHG,KAAM,EFGA;EACnB,AEHE,GFGC,EAAE,IAAK,GACX,IEJmB,EAAE,OAAQ;EAC1B,aAAa,EAAE,GAAI,GACtB;AFGD,AAAO,MAAD,CAAC,MAAM,CAAC;AEFd,EFGE,AEHA,CAAC,MFGM,EAAE,YAAa;EACtB,AEHA,QAAQ,CFGC,CEHC,CFGC,KAAM,EEHE,GACpB;EFGC,KAAK,EAAE,KAAM;AEFf,AAAO,EFGL,KEHK,EFGE,EAAE,EEHE,CAAC,gBFGiB;EAC7B,AEHA,gBFGgB,AEHA,EFGE,AEHA,IAAK,GFGG;EAC1B,AEHA,MAAM,EAAE,GFGG,EAAE,EEHG,CFGC;EACjB,AEHA,KAAK,EAAE,CFGC,EAAE,IEHK,GAChB,CFEoB;EACnB,IAAI,EAAE,IAAK;AEFb,EFGE,GAAG,EAAE,EEHE,CAAC,CFGE;EACV,AEHA,MFGM,CEHC,CFGC,CEHC,IFGK,EEHE,GACjB;EFGC,YAAY,EAAE,IAAK;AEFrB,AAA2B,EFGzB,OEHO,IAAG,EFGG,EAAE,CEHJ,EAAO,MAAP,AAAa,CAAC,CFGE,GAC5B,SEJuC,CAAC;EACvC,aAAa,EAAE,IAAK,GACrB;;AACD,MAAM,EAAL,SAAS,EAAE,KAAK;EACb,OAAO,CAAC;IACN,SAAS,EAAE,IAAK;IAChB,UAAU,EAAE,IAAK,GAAG;;AAE1B,MAAM,EAAL,SAAS,EAAE,MAAM;EACd,KAAK,CAAC;IACJ,MAAM,EAAE,CAAE,GACX;EACD,OAAO,CAAC;IACN,SAAS,EAAE,IAAK,GACjB","file":"app-bundle.js","sourcesContent":["import { inject } from 'aurelia-framework';\nimport { Router, RouterConfiguration } from 'aurelia-router';\nimport { ClueService } from './clue-service';\n\n@inject(ClueService)\nexport class App {\n  title = 'J!Party';\n  router: Router;\n\n  constructor(\n    private clueService: ClueService\n  ) {}\n\n  configureRouter(config: RouterConfiguration, router: Router) {\n    config.title = this.title;\n    config.map([\n      { route: '',          moduleId: 'title-screen' },\n      { route: 'dashboard', moduleId: 'dashboard',   name: 'dashboard' },\n      { route: 'board',     moduleId: 'clues',       name: 'board' },\n      { route: 'clue/:id',  moduleId: 'clue-detail', name: 'clueDetail' },\n    ]);\n    this.router = router;\n  }\n\n  created() {\n    console.log('Loading clues...');\n    this.clueService.loadClues().then(() => {\n      console.log('clues loaded');\n    }).catch(err => { console.log('ERROR!', err) });\n  }\n}\n","export class Clue {\n  id: number;\n  clue: string;\n  answer: string;\n}\n\nexport class Category {\n  id: number;\n  name: string;\n  isFinal: boolean;\n  clues: Clue[];\n}\n","//\n// Service for parsing the database text file.\n//\nexport interface DatabaseRow {\n  done?: boolean,\n  total?: number,\n\n  // database columns:\n  answer?: string,\n  categoryId?: string,\n  clue?: string,\n  id?: string,\n  level?: string,\n  name?: string,\n};\n\nexport class DatabaseParser {\n  parseList(text: string, callback: Function) {\n    let rowCountLine = 0;\n    let headerLine = 1;\n\n    // Split it out by rows.\n    let rows = text.split(/[\\r\\n]+/);\n\n    // Send the count.\n    let count = rows[rowCountLine];\n    callback({ total: count });\n\n    // Parse the rows into columns.\n    let parsedRow: DatabaseRow;\n    let header = rows[headerLine].split('|');\n    for (let i = headerLine + 1; i < rows.length; i++) {\n      if (rows[i].indexOf('|') === -1) { continue; }\n      parsedRow = {};\n      let cols = rows[i].split('|');\n      for (let j = 0; j < cols.length; j++) {\n        parsedRow[header[j]] = cols[j];\n      }\n      callback(parsedRow);\n    }\n\n    // Send the \"done\" message.\n    callback({ done: true });\n  }\n};\n","import Random = require('random-js');\n\nexport class Randomizer {\n  engine: Random;\n  constructor() {\n    this.engine = new Random(Random.engines.mt19937().autoSeed());\n  }\n  generate(min: number, max: number): number {\n    return this.engine.integer(min, max);\n   }\n}\n","import { inject } from 'aurelia-framework';\nimport { HttpClient } from 'aurelia-fetch-client';\n\nimport { Clue, Category } from './clue';\nimport { DatabaseRow, DatabaseParser } from './database-parser';\nimport { Randomizer } from './randomizer';\n\n@inject(DatabaseParser, HttpClient, Randomizer)\nexport class ClueService {\n  private categoriesFile = 'categories.txt';\n  private cluesFile = 'clues.txt';\n  private clues: Category[] = [];\n  private hasLoaded = false;\n  constructor(\n    private dbParser: DatabaseParser,\n    private http: HttpClient,\n    private randomizer: Randomizer\n  ) {}\n  // Chooses X number of categories with clues.\n  choose(num: Number): Promise<Category[]> {\n    // TODO This should not have possible duplicates.\n    let categories: Category[] = [];\n    for (let i = 0; i < num; i++) {\n      let index = this.randomizer.generate(0, this.clues.length);\n      categories.push(this.clues[index]);\n    }\n    return Promise.resolve(categories);\n  }\n  getClue(id): Clue {\n    return this.clues[0].clues[0];\n  }\n  // Returns all clues in the database.\n  getClues() {\n    return Promise.resolve(this.clues);\n  }\n  // Loads the clues into the browser.\n  loadClues(): Promise<void> {\n\n    let categoryRawData: string;\n    let clueRawData: string;\n\n    let loadDataFiles = (): Promise<void> => {\n      return Promise.all([\n        this.http.fetch(this.categoriesFile).then(response => response.text()),\n        this.http.fetch(this.cluesFile).then(response => response.text())\n      ]).then(data => {\n        [categoryRawData, clueRawData] = data;\n      });\n    };\n\n    let parseData = (): Promise<void> => {\n      let parser = (data: string) => {\n        let parsedData: DatabaseRow[] = [];\n        return new Promise(resolve => {\n          this.dbParser.parseList(data, (row: DatabaseRow) => {\n            if (row.total) {\n              // do nothing special\n            } else if (row.done) {\n              resolve(parsedData);\n            } else {\n              parsedData.push(row);\n            }\n          });\n        });\n      };\n      return Promise.all([\n        parser(categoryRawData),\n        parser(clueRawData)\n      ]).then((data: [DatabaseRow[], DatabaseRow[]]) => {\n        let [categoryParsedData, clueParsedData] = data;\n\n        let indexedData = {};\n        categoryParsedData.forEach(category => {\n          let categoryId = Number(category.id);\n          let newCategory: Category = {\n            id: categoryId,\n            name: category.name,\n            isFinal: false,\n            clues: []\n          }\n          indexedData[categoryId] = newCategory;\n        });\n        clueParsedData.forEach(clue => {\n          let categoryId = Number(clue.categoryId);\n          let level = Number(clue.level) === 999 ? 0 : Number(clue.level);\n          let newClue: Clue = {\n            id: Number(clue.id),\n            clue: clue.clue,\n            answer: clue.answer\n          };\n          indexedData[categoryId].isFinal = Number(clue.level) === 999;\n          indexedData[categoryId].clues[level] = newClue;\n        });\n\n        this.clues = Object.keys(indexedData).map(key => {\n          return indexedData[key];\n        });\n      });\n    };\n\n    return loadDataFiles().then(parseData).then(() => { this.hasLoaded = true; });\n  }\n}\n","import { inject } from 'aurelia-framework';\nimport { Clue } from './clue';\nimport { ClueService } from './clue-service';\n\n@inject(ClueService)\nexport class ClueDetailComponent {\n  clue: Clue;\n  constructor(\n    private clueService: ClueService,\n  ) {}\n  activate(params) {\n    let id = Number(params.id);\n    this.clue = this.clueService.getClue(id);\n  }\n  goBack() {\n    window.history.back();\n  }\n}\n","import { inject } from 'aurelia-framework';\nimport { Router } from 'aurelia-router';\n\nimport { Clue, Category } from './clue';\nimport { ClueService } from './clue-service';\n\n@inject(ClueService, Router)\nexport class Clues {\n  clues: Category[];\n  selectedClue: Clue;\n  constructor(\n    private clueService: ClueService,\n    private router: Router\n  ) {}\n  getClues() {\n    this.clueService.getClues().then(clues => this.clues = clues);\n  }\n  created() {\n    this.getClues();\n  }\n  onSelect(clue: Clue) { this.selectedClue = clue; }\n  gotoDetail() {\n    this.router.navigateToRoute('clueDetail', { id: this.selectedClue.id });\n  }\n}\n","import { inject } from 'aurelia-framework';\nimport { Router } from 'aurelia-router';\n\nimport { Category, Clue } from './clue';\nimport { ClueService } from './clue-service';\n\n@inject(ClueService, Router)\nexport class Dashboard {\n  categories: Category[] = [];\n  constructor(\n    private clueService: ClueService,\n    private router: Router\n  ) {}\n  created() {\n    this.clueService.choose(6).then(categories => { this.categories = categories; });\n  }\n  gotoDetail(clue: Clue) {\n    this.router.navigateToRoute('clueDetail', { id: clue.id });\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","export class GameState {\n}\n","export enum InputType {\n  Keyboard,\n  Mouse,\n  Touch\n}\n\nexport class Input {\n  constructor(\n    public type: InputType\n  ) {}\n}\n","import { Input, InputType } from './input';\n\nexport class KeyboardService {\n  // Resolves if any key is pressed.\n  waitForAny(): Promise<Input> {\n    return new Promise((resolve, reject) => {\n      document.onkeypress = (event) => {\n        resolve(new Input(InputType.Keyboard));\n      };\n    });\n  }\n}\n","import { inject } from 'aurelia-framework';\nimport { Input, InputType } from './input';\nimport { KeyboardService } from './keyboard-service';\n\n@inject(KeyboardService)\nexport class InputService {\n  constructor(\n    private keyboardService: KeyboardService\n  ) {}\n  // Resolves if any key is pressed, the mouse is clicked, or the screen is tapped.\n  waitForAny(): Promise<Input> {\n    return Promise.race([\n      this.keyboardService.waitForAny()\n    ]);\n  }\n}\n","import { Aurelia } from 'aurelia-framework'\nimport environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\n(<any>Promise).config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import { BindingEngine, inject } from 'aurelia-framework';\nimport { Router } from 'aurelia-router';\n\nimport { ClueService } from './clue-service';\nimport { InputService } from './input-service';\n\n@inject(BindingEngine, ClueService, InputService, Router)\nexport class TitleScreen {\n  private loading: boolean = true;\n\n  constructor(\n    private bindingEngine: BindingEngine,\n    private clueService: ClueService,\n    private inputService: InputService,\n    private router: Router\n  ) {}\n\n  created() {\n    let turnOffLoading = () => this.loading = false;\n\n    let waitForInput = () => {\n      return this.inputService.waitForAny().then(() => {\n        this.router.navigateToRoute('dashboard');\n      });\n    };\n\n    let subscription = this.bindingEngine.propertyObserver(this.clueService, 'hasLoaded')\n      .subscribe((newValue, oldValue) => {\n        turnOffLoading();\n        waitForInput();\n        subscription.dispose();\n      });\n  }\n}\n","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n",null,"h1 {\n  font-size: 1.2em;\n  color: #999;\n  margin-bottom: 0;\n}\nh2 {\n  font-size: 2em;\n  margin-top: 0;\n  padding-top: 0;\n}\nnav a {\n  padding: 5px 10px;\n  text-decoration: none;\n  margin-top: 10px;\n  display: inline-block;\n  background-color: #eee;\n  border-radius: 4px;\n}\nnav a:visited, a:link {\n  color: #607D8B;\n}\nnav a:hover {\n  color: #039be5;\n  background-color: #CFD8DC;\n}\nnav a.router-link-active {\n  color: #039be5;\n}\n",null,"label {\n  display: inline-block;\n  width: 3em;\n  margin: .5em 0;\n  color: #607D8B;\n  font-weight: bold;\n}\ninput {\n  height: 2em;\n  font-size: 1em;\n  padding-left: .4em;\n}\nbutton {\n  margin-top: 20px;\n  font-family: Arial;\n  background-color: #eee;\n  border: none;\n  padding: 5px 10px;\n  border-radius: 4px;\n  cursor: pointer; cursor: hand;\n}\nbutton:hover {\n  background-color: #cfd8dc;\n}\nbutton:disabled {\n  background-color: #eee;\n  color: #ccc;\n  cursor: auto;\n}\n",null,".selected {\n  background-color: #CFD8DC !important;\n  color: white;\n}\n.clues {\n  margin: 0 0 2em 0;\n  list-style-type: none;\n  padding: 0;\n  width: 15em;\n}\n.clues li {\n  cursor: pointer;\n  position: relative;\n  left: 0;\n  background-color: #EEE;\n  margin: .5em;\n  padding: .3em 0;\n  border-radius: 4px;\n}\n.clues li label {\n  display: block;\n}\n.clues li.selected:hover {\n  background-color: #BBD8DC !important;\n  color: white;\n}\n.clues li:hover {\n  color: #607D8B;\n  background-color: #DDD;\n  left: .1em;\n}\n.clues .text {\n  position: relative;\n  top: -3px;\n}\n.clues .badge {\n  display: inline-block;\n  font-size: small;\n  color: white;\n  padding: 0.8em 0.7em 0 0.7em;\n  background-color: #607D8B;\n  line-height: 1em;\n  position: relative;\n  left: -1px;\n  top: -4px;\n  height: 1.8em;\n  margin-right: .8em;\n  border-radius: 4px 0 0 4px;\n}\n",null,"[class*='col-'] {\n  float: left;\n}\n*, *:after, *:before {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\nh3 {\n  text-align: center; margin-bottom: 0;\n}\n[class*='col-'] {\n  padding-right: 20px;\n  padding-bottom: 20px;\n}\n[class*='col-']:last-of-type {\n  padding-right: 0;\n}\n.grid {\n  margin: 0;\n}\n.col-1-4 {\n  width: 25%;\n}\n.module {\n    padding: 20px;\n    text-align: center;\n    color: #eee;\n    max-height: 120px;\n    min-width: 120px;\n    background-color: #607D8B;\n    border-radius: 2px;\n}\nh4 {\n  position: relative;\n}\n.module:hover {\n  background-color: #EEE;\n  cursor: pointer;\n  color: #607d8b;\n}\n.grid-pad {\n  padding: 10px 0;\n}\n.grid-pad > [class*='col-']:last-of-type {\n  padding-right: 20px;\n}\n@media (max-width: 600px) {\n    .module {\n      font-size: 10px;\n      max-height: 75px; }\n}\n@media (max-width: 1024px) {\n    .grid {\n      margin: 0;\n    }\n    .module {\n      min-width: 60px;\n    }\n}\n",null],"sourceRoot":"../src"}